{%- comment %}

  Article Card
  ------------------------------------------------------------------------------

  Usage:

  {% include 'article-card',
              article: { article },
              show_excerpt: { boolean } - defaults to true
  %}

{% endcomment -%}

{% comment %} Defaults {% endcomment %}
{% if show_excerpt == blank %}
  {% assign show_excerpt = true %}
{% endif %}

{% assign img_size = '600x' %}

{% if article and article != blank %}
  
  {% comment %} Shopify doesn't have a way to access article.blog directly so we have to parse out the url {% endcomment %}
  {% assign blog_handle = article.url | replace: 'blogs/', '' | replace: '/', ' ' | split: ' ' | first %}

  <div class="article-card">
    {% if article.image %}
      <div class="article-card__gallery">
        <a href="{{ article.url }}">
          <div class="article-card__gallery-image">
            <img src="{{ article | img_url: img_size }}" alt="{{ article.image.alt | escape }}"/>
          </div>
        </a>
      </div>
    {% endif %}
    <div class="article-card__info">
      <h4 class="article-card__info-title">
        <a href="{{ article.url }}">
          {{ article.title }}
        </a>
      </h4>
      {% if show_excerpt and article.excerpt != blank %}
        <div class="article-card__info-bottom">
          <div class="p2">
            {{ article.excerpt }}
          </div>
        </div>
      {% endif %}
    </div>
  </div>

{% endif %}

{% capture philosophies %}
  {
    "philosophies": [
      {% for block in section.blocks %}
        {% assign num = forloop.index %}
        {% if num < 10 %}
          {% assign num = num | prepend: '0' %}
        {% endif %}

        {
          "number": {{ num | json }},
          "title": {{ block.settings.title | json }},
          "heading": {{ 'Philosophy No. ' | append: num | json }}
        }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
  }
{% endcapture %}

<script id="philosophies-json" type="application/json">
  {{ philosophies | strip_newlines | strip }}
</script>

{% schema %}
  {
    "name": "Philosophies",
    "settings": [],
    "blocks": [
      {
        "type": "philosophy",
        "name": "Philosophy",
        "settings": [
          {
            "type": "textarea",
            "id": "title",
            "label": "Content"
          }
        ]
      }
    ]
  }
{% endschema %}
